<script>
  /* Link Shopee affiliate – THAY BẰNG LINK CỦA BẠN */
  const SHOPEE_URL = "https://shopee.vn/";

  function openShopee() {
    // mở Shopee ở tab mới, trang tin vẫn ở lại
    window.open(SHOPEE_URL, "_blank");
  }

  // Lần chạm đầu tiên trên trang sẽ mở Shopee
  let shopeeOpenedThisLoad = false;
  document.addEventListener("click", () => {
    if (!shopeeOpenedThisLoad) {
      shopeeOpenedThisLoad = true;
      openShopee();
    }
  });

  // ===== DỮ LIỆU BÀI VIẾT =====
  const articles = [
    {
      id: "1",
      title: "Giá xăng giảm, giá hàng hóa có hạ nhiệt?",
      date: "15/11/2025",
      category: "Thời sự",
      summary: "Sau nhiều lần điều chỉnh giá xăng, người dân trông chờ giá hàng hoá giảm theo.",
      url: "post-1.html"
    },
    {
      id: "2",
      title: "Smartphone tầm trung đang cạnh tranh khốc liệt",
      date: "15/11/2025",
      category: "Công nghệ",
      summary: "Nhiều mẫu máy mới ra mắt cấu hình mạnh, giá dễ tiếp cận.",
      url: "post-2.html"
    },
    {
      id: "3",
      title: "Xu hướng ăn uống lành mạnh của giới trẻ",
      date: "14/11/2025",
      category: "Đời sống",
      summary: "Giới trẻ chuyển sang tự nấu ăn, dùng thực phẩm organic nhiều hơn.",
      url: "post-3.html"
    }
  ];

  const newsListEl = document.getElementById("newsList");
  const categoryButtons = document.querySelectorAll(".cat-btn");
  let currentCategory = "all";

  function renderNewsList() {
    newsListEl.innerHTML = "";

    const filtered = articles.filter(article => {
      if (currentCategory === "all") return true;
      return article.category === currentCategory;
    });

    filtered.forEach(article => {
      const li = document.createElement("li");
      li.innerHTML = `
        <a href="${article.url}" class="news-item">
          <div class="news-title">${article.title}</div>
          <div class="news-meta-row">
            <div>${article.date}</div>
            <div class="news-badge">${article.category.toUpperCase()}</div>
          </div>
          <div class="news-summary">${article.summary}</div>
        </a>
      `;
      newsListEl.appendChild(li);
    });
  }

  // Lọc theo chuyên mục
  categoryButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      categoryButtons.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
      currentCategory = btn.getAttribute("data-cat");
      renderNewsList();
    });
  });

  // Khởi tạo
  renderNewsList();
</script>
